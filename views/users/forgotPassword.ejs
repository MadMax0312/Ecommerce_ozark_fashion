<%- include('../layouts/header.ejs') %>

<div class="container" style="margin-top: 100px">
    <h2 class="mb-4 text-center"><strong>Forgot Password</strong></h2>

    <% if(typeof message !== 'undefined'){ %>

    <h6 id="invalid-msg" class="text-danger text-center"><%- message %></h6>

    <% } %>

    <form action="" method="post" onsubmit="return validatForm()">
        <div class="form-group">
            <input type="email" class="form-control" name="email" placeholder="Enter email" id="email" />
            <p id="email-error" class="error-message"></p>
        </div>
        <div class="mt-3 text-center">
            <a href=""><button type="submit" class="btn btn-success rounded-pill">Submit</button></a>
        </div>
    </form>
</div>

<script>
    function validatForm() {
        document.getElementById("email-error").textContent = "";

        const email = document.getElementById("email").value;

        // Regular expression for email validation with optional '@' symbol
        const emailRegex = /^[^\s@]+(@[^\s@]+\.[^\s@]+)?$/;

        if (!email) {
            document.getElementById("email-error").textContent = "Email field should not be empty";
            return false;
        }

        if (!emailRegex.test(email)) {
            document.getElementById("email-error").textContent = "Invalid email format";
            return false;
        }

        return true;
    }
</script>

<%- include('../layouts/footer.ejs') %>
